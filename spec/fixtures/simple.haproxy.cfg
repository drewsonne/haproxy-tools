# This is a top-level comment.  It should be allowed.

global
	maxconn 4096 # Total Max Connections. This is dependent on ulimit
	daemon
	nbproc 4 # Number of processing cores. Dual Dual-core Opteron is 4 cores for example.

defaults
	mode http
	clitimeout 60s
	srvtimeout 30000
	contimeout 4000000us
	option httpclose # Disable Keepalive

listen http_proxy 55.55.55.55:80
	balance roundrobin # Load Balancing algorithm
	option httpchk
	option forwardfor # This sets X-Forwarded-For

	## Define your servers to balance
	server web1 dnshost66:80 weight 1 maxconn 512 check
	server web2 77.77.77.77:80 weight 1 maxconn 512 check
	server web3 88.88.88.88:80

userlist L1
    group G1 users tiger,scott
    group G2 users xdb,scott

    user tiger password $6$k6y3o.eP$JlKBx9za9667qe4(...)xHSwRv6J.C0/D7cV91
    user scott insecure-password elgato
    user xdb insecure-password hello

userlist L2
    group G1
    group G2

    user tiger password $6$k6y3o.eP$JlKBx(...)xHSwRv6J.C0/D7cV91 groups G1
    user scott insecure-password elgato groups G1,G2
    user xdb insecure-password hello groups G2
